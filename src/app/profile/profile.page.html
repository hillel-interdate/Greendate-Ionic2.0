<!--
  Generated template for the Profile page.
  See http://ionicframework.com/docs/v2/components/#navigation for more info on
  Ionic pages and navigation.
-->
<!--<ion-header>
    <ion-navbar>
        <ion-button left menuToggle>
            <ion-icon id="menu"></ion-icon>
        </ion-button>
        <div class="logo"><a href="/"><img src="/img/icons/logo.png" alt="sugardaddy"></a></div>
    </ion-navbar>
</ion-header>-->


<div *ngIf="myId != user?.id" class="profile-buttons" [ngClass]="{'ios-btns': platform.is('ios')}">
  <div class="online"></div>
  <div (click)="toDialog(user)" class="message-profile-btn profiles-btn"><img src="../../assets/img/icons/pmsgbot.png"></div>
  <div *ngIf="user?.isAddLike == false" (click)="addLike(user)" class="like-profile-btn profiles-btn"><img
          src="../../assets/img/icons/plike.png"></div>
  <div *ngIf="user?.isAddLike" class="disabled like-profile-btn profiles-btn"><img src="../../assets/img/icons/plike.png"></div>
  <div *ngIf="user?.isAddFavorite == false && user.id " (click)="addFavorites(user)"
       class="favorite-profile-btn profiles-btn">
    <img src="../../assets/img/icons/padd.png"></div>
  <div *ngIf="user?.isAddFavorite" class="disabled favorite-profile-btn" (click)="addFavorites(user)" ><img src="../../assets/img/icons/remove-favorite.svg"></div>
</div>
<div (click)="back()" class="back-btn">
  <ion-icon name="ios-arrow-forward"></ion-icon>
</div>


<ion-content overflow-scroll="false" [scrollEvents]="true" #content>
  <div class="container">
    <div class="online"></div>
    <div *ngIf="user?.photos">
      <!--<div (click)="fullPagePhotos(user)" class="avatar" [ngStyle]="{ 'background-image': 'url(' + api.url + user.photos[0].url+ ')'}"></div>-->
    </div>
    <div class="photos" [ngStyle]="{ 'direction': 'ltr'}">
      <!--<div *ngIf="user?.photo" (click)="fullPagePhotos(user)" class="avatar"-->
           <!--[ngStyle]="{ 'background-image': 'url(' + user.url+ ')'}"></div>-->
      <ion-slides pager="true">
        <ion-slide *ngFor="let usr of user?.photos">
          <div *ngIf="usr.url == '/images/no_photo_2.jpg' || usr.url == '/images/no_photo_1.jpg'"
               [ngStyle]="{ 'background-image': 'url('+ api.url + usr.url + ')'}"
               class="avatar"></div>

          <div *ngIf="usr.url != '/images/no_photo_2.jpg' && usr.url != '/images/no_photo_1.jpg'"
               (click)="fullPagePhotos(user)" [ngStyle]="{ 'background-image': 'url(' + usr.url + '.jpg)'}"
               class="avatar"></div>
        </ion-slide>
      </ion-slides>
    </div>
    <ion-spinner class="bg" *ngIf="!user?.iam"></ion-spinner>
    <div class="content" #content>
      <div class="pmtitle">
        <div *ngIf="user?.isNew" class="new-user"></div>
        <div *ngIf="user?.isOnline" class="online-user"></div>
        <span class="age"> {{user?.age}} </span> <strong style="float:right;"> {{user?.username}}, </strong>
        <span>{{user?.region_name}}</span>
      </div>

      <div *ngIf="user?.iam" class="pmdetail cf">
        <ul padding [ngClass]="{'bg-loader': !user?.iam}" class="pmbotul ">
          <div class="profile-sub-title">אני בקצרה</div>
          <li *ngIf="user.relationshipStatus?.value"><span
                  class="one">{{user?.relationshipStatus?.label }}</span><span
                  class="two">{{user?.relationshipStatus?.value }}</span></li>
          <li *ngIf="user.zodiac?.value">
            <span class="one">{{user.zodiac?.label }}</span><span class="two">{{user.zodiac?.value }}</span>
          </li>
          <li *ngIf="user.purposes?.value"><span class="one">{{user.purposes?.label }}</span><span
                  class="two">{{user.purposes?.value }}</span>
          </li>
          <li *ngIf="user.smoking?.value"><span class="one">{{user.smoking?.label }}</span><span class="two">{{user.smoking?.value }}</span>
          </li>
          <li *ngIf="user.status?.value"><span class="one">{{user.status?.label }}</span><span class="two">{{user.status?.value }}</span>
          </li>
          <li *ngIf="user.sexOrientation?.value"><span class="one">{{user.sexOrientation?.label }}</span><span
                  class="two">{{user.sexOrientation?.value }}</span>
          </li>
          <li *ngIf="user.children?.value"><span class="one">{{user.children?.label }}</span><span
                  class="two">{{user.children?.value }}</span>
          </li>
          <li *ngIf="user.occupation?.value"><span class="one">{{user.occupation?.label }}</span><span
                  class="two">{{user.occupation?.value }}</span>
          </li>
          <li *ngIf="user.religion?.value"><span class="one">{{user.religion?.label }}</span><span
                  class="two">{{user.religion?.value }}</span>
          </li>
          <li *ngIf="user.religionAffinity?.value"><span class="one">{{user.religionAffinity?.label }}</span><span
                  class="two">{{ user.religionAffinity.value }}</span>
          </li>
          <li *ngIf="user.education?.value"><span class="one">{{user.education?.label }}</span><span
                  class="two">{{user.education?.value }}</span>
          </li>



          <div class="profile-sub-title">אני בהרחבה</div>
          <li *ngIf="user.type?.value"><span class="one">{{user.type?.label }}</span><span class="two">{{user.type?.value }}</span>
          </li>
          <li *ngIf="user.nutrition?.value"><span class="one">{{user.nutrition?.label }}</span><span class="two">{{user.nutrition?.value }}</span>
          </li>
          <li *ngIf="user.veggieReasons?.value"><span class="one">{{user.veggieReasons?.label }}</span><span
                  class="two">{{user.veggieReasons?.value }}</span>
          </li>
          <li *ngIf="user.drinking?.value"><span class="one">{{user.drinking?.label }}</span><span
                  class="two">{{user.drinking?.value }}</span>
          </li>
          <li *ngIf="user.sport?.value"><span class="one">{{user.sport?.label }}</span><span class="two">{{user.sport?.value }}</span>
          </li>
          <li *ngIf="user.green?.value"><span
                  class="one">{{user.green?.label }}</span><span
                  class="two">{{user.green?.value }}</span></li>
          <!-- <li *ngIf="user.type?.value"><span class="one">{{user.type?.label }}</span><span class="two">{{user.type?.value }}</span>-->
          <li *ngIf="user.animals?.value"><span class="one">{{user.animals?.label }}</span><span class="two">{{user.animals?.value }}</span>
          </li>
          <li *ngIf="user.interests?.value"><span class="one">{{user.interests?.label }}</span><span
                  class="two">{{user.interests?.value }}</span>
          </li>
          <li *ngIf="user.politicalAffiliation?.value"><span
                  class="one">{{user.politicalAffiliation?.label }}</span><span class="two">{{user.politicalAffiliation?.value }}</span>
          </li>



          <div class="profile-sub-title">איך אני נראה/ית</div>
          <li *ngIf="user.height?.value"><span class="one">{{user.height?.label }}</span><span class="two">{{user.height?.value }}</span>
          </li>
          <li *ngIf="user.body?.value"><span class="one">{{user.body?.label }}</span><span class="two">{{user.body?.value }}</span>
          </li>
          <li *ngIf="user.eyes?.value"><span class="one">{{user.eyes?.label }}</span><span class="two">{{user.eyes?.value }}</span>
          </li>
          <li *ngIf="user.hair?.value"><span class="one">{{user.hair?.label }}</span><span class="two">{{user.hair?.value }}</span>
          </li>



          <div *ngIf="user.about?.value" class="profile-sub-title">{{user.about?.label }}</div>
          <li *ngIf="user.about?.value"><span class="three">{{user.about?.value }}</span>
          </li>


          <div *ngIf="user.perfectdate?.value || user.dish?.value || user.restaurant?.value || user.dinner?.value || user.books?.value || user.music?.value"
               class="profile-sub-title" (click)="moreAbout()">עוד קצת עליי
            <!--<ion-icon ios="ios-add" md="md-add" *ngIf="!isAbout" class="aboutIcon"></ion-icon>-->
            <!--<ion-icon name="remove-circle-outline" *ngIf="isAbout" class="aboutIcon"></ion-icon>-->
          </div>
          <div class="moreAboutMe" ><!--*ngIf="isAbout"-->
            <li *ngIf="user.perfectdate?.value"><span class="one">{{user.perfectdate?.label }}</span><span
            class="two">{{user.perfectdate?.value }}</span>
            </li>
            <li *ngIf="user.dish?.value"><span class="one">{{user.dish?.label }}</span><span class="two">{{user.dish?.value }}</span>
            </li>
            <li *ngIf="user.restaurant?.value"><span class="one">{{user.restaurant?.label }}</span><span
            class="two">{{user.restaurant?.value }}</span>
            </li>
            <li *ngIf="user.dinner?.value"><span class="one">{{user.dinner?.label }}</span><span class="two">{{user.dinner?.value }}</span>
            </li>
            <li *ngIf="user.books?.value"><span class="one">{{user.books?.label }}</span><span class="two">{{user.books?.value }}</span>
            </li>
            <li *ngIf="user.music?.value"><span class="one">{{user.music?.label }}</span><span class="two">{{user.music?.value }}</span>
            </li>

             <!--if will be a option to do it dymanic  -->

            <!--<div *ngFor="let field of getKeys(user)">-->
            <!--<li *ngIf="user[field].value">-->
              <!--<span class="one">{{user[field].label}}</span>-->
              <!--<span class="two">{{user[field].value}}</span>-->
            <!--</li>-->
            <!--</div>-->


          </div>
            <div class="profile-sub-title">{{user.looking?.label }}</div>
            <li *ngIf="user.looking?.value"><span>{{user.looking?.value }}</span>
            </li>
        </ul>

      </div>
      <div *ngIf="myId != user?.id && formReportAbuse.title" class="pmtitle bottom">
        <ion-button (click)="reportAbuseShow()" color="dark" class="report-abuse" side="start" >
          <ion-icon name="megaphone"></ion-icon>
          {{ formReportAbuse.title }}
        </ion-button>
        <ion-button *ngIf="!user?.isAddBlackListed" (click)="blockSubmit()" color="dark" class="report-abuse"
                side="start">
          <ion-icon name="lock"></ion-icon>
          {{ texts?.lock }}
        </ion-button>
        <ion-button *ngIf="user?.isAddBlackListed" (click)="blockSubmit()" color="dark" class="report-abuse">
          <ion-icon name="unlock"></ion-icon>
          {{ texts?.unlock }}
        </ion-button>
      </div>

      <div *ngIf="isAbuseOpen" class="abuse-form">
          <ion-item>
            <ion-textarea (click)="onClickInput()" (ionBlur)="onBlurInput" [(ngModel)]="formReportAbuse?.text.value" rows="3"></ion-textarea>
          </ion-item>
        <div class='btn-opt'>
          <ion-button class="cancel" color="danger" (click)="reportAbuseClose()">{{
            formReportAbuse.buttons.cancel }}
          </ion-button>
          <ion-button color="danger" (click)="abuseSubmit()">{{ formReportAbuse.buttons.submit }}
          </ion-button>
        </div>
      </div>
    </div>
  </div>
</ion-content>